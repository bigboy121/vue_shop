{"remainingRequest":"/Users/apple/Desktop/黑马电商/vue_shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/黑马电商/vue_shop/src/components/goods/Cate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/黑马电商/vue_shop/src/components/goods/Cate.vue","mtime":1587363831000},{"path":"/Users/apple/Desktop/黑马电商/vue_shop/node_modules/cache-loader/dist/cjs.js","mtime":1587348378000},{"path":"/Users/apple/Desktop/黑马电商/vue_shop/node_modules/babel-loader/lib/index.js","mtime":1587348378000},{"path":"/Users/apple/Desktop/黑马电商/vue_shop/node_modules/cache-loader/dist/cjs.js","mtime":1587348378000},{"path":"/Users/apple/Desktop/黑马电商/vue_shop/node_modules/vue-loader/lib/index.js","mtime":1587348388000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2F0ZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOafpeivouaVsOaNrueahOadoeS7tgogICAgICBxdWVyeUluZm86IHsKICAgICAgICB0eXBlOiAzLAogICAgICAgIHBhZ2VudW06IDEsCiAgICAgICAgcGFnZXNpemU6IDUKICAgICAgfSwKICAgICAgLy8g5ZWG5ZOB5YiG57G755qE5pWw5o2u5YiX6KGo77yM6buY6K6k5Li656m6CiAgICAgIGNhdGVMaXN0OiBbXSwKICAgICAgLy8g5oC75pWw5o2u5p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDkuLp0YWJsZeaMh+WumuWIl+eahOWumuS5iQogICAgICBjb2x1bW5zOiBbCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICLliIbnsbvlkI3np7AiLAogICAgICAgICAgcHJvcDogImNhdF9uYW1lIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICLmmK/lkKbmnInmlYgiLAogICAgICAgICAgLy8g6KGo56S65bCG5b2T5YmN5a6a5LmJ5Li65qih5p2/5YiXCiAgICAgICAgICB0eXBlOiAidGVtcGxhdGUiLAogICAgICAgICAgLy8g6KGo56S65b2T5YmN6L+Z5LiA5YiX5L2/55So5qih5p2/5ZCN56ewCiAgICAgICAgICB0ZW1wbGF0ZTogImlzb2siCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogIuaOkuW6jyIsCiAgICAgICAgICAvLyDooajnpLrlsIblvZPliY3lrprkuYnkuLrmqKHmnb/liJcKICAgICAgICAgIHR5cGU6ICJ0ZW1wbGF0ZSIsCiAgICAgICAgICAvLyDooajnpLrlvZPliY3ov5nkuIDliJfkvb/nlKjmqKHmnb/lkI3np7AKICAgICAgICAgIHRlbXBsYXRlOiAib3JkZXIiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogIuaTjeS9nCIsCiAgICAgICAgICAvLyDooajnpLrlsIblvZPliY3lrprkuYnkuLrmqKHmnb/liJcKICAgICAgICAgIHR5cGU6ICJ0ZW1wbGF0ZSIsCiAgICAgICAgICAvLyDooajnpLrlvZPliY3ov5nkuIDliJfkvb/nlKjmqKHmnb/lkI3np7AKICAgICAgICAgIHRlbXBsYXRlOiAib3B0IgogICAgICAgIH0KICAgICAgXSwKICAgICAgLy8g5o6n5Yi25YiG57G75a+56K+d5qGG55qE5pi+56S65LiO6ZqQ6JePCiAgICAgIGFkZENhdGVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5re75Yqg5YiG57G76KGo5Y2V5pWw5o2u5a+56LGhCiAgICAgIGFkZENhdGVGb3JtOiB7CiAgICAgICAgLy8g5bCG6KaB5re75Yqg55qE5YiG57G75ZCN56ewCiAgICAgICAgY2F0X25hbWU6ICcnLAogICAgICAgIC8vIOeItue6p+WIhuexu2lkIOW/heWhqwogICAgICAgIGNhdF9waWQ6IDAsCiAgICAgICAgLy8g5YiG57G7562J57qnIOm7mOiupOa3u+WKoOeahOaYr+S4gOe6pwogICAgICAgIGNhdF9sZXZlbDogMCwKICAgICAgfSwKICAgICAgLy8g5re75Yqg6KGo5Y2V55qE6aqM6K+B6KeE5YiZ5a+56LGhCiAgICAgIGFkZENhdGVGb3JtUnVsZXM6IHsKICAgICAgICBjYXRfbmFtZTogWwogICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXliIbnsbvlkI3np7AiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyDojrflj5bllYblk4HmlbDmja4KICAgIHRoaXMuZ2V0Q2F0ZUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluWVhuWTgeaVsOaNrgogICAgYXN5bmMgZ2V0Q2F0ZUxpc3QoKSB7CiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiY2F0ZWdvcmllcyIsIHsKICAgICAgICBwYXJhbXM6IHRoaXMucXVlcnlJbmZvCiAgICAgIH0pOwogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W5ZWG5ZOB5YiG57G75aSx6LSl77yBIik7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKCiAgICAgIC8vIOaKiuaVsOaNruWIl+ihqOi1i+WAvAogICAgICB0aGlzLmNhdGVMaXN0ID0gcmVzLmRhdGEucmVzdWx0OwoKICAgICAgLy8g5Li65oC75pWw5o2u5p2h5pWw6LWL5YC8CiAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgIH0sCiAgICAvLyDnm5HlkKxwYWdlU2l6ZeaUueWPmOeahOS6i+S7tgogICAgaGFuZGxlU2l6ZUNoYW5nZShuZXdTaXplKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VzaXplID0gbmV3U2l6ZTsKICAgICAgdGhpcy5nZXRDYXRlTGlzdCgpOwogICAgfSwKICAgIC8vIOebkeWQrHBhZ2VudW3nmoTmlLnlj5gKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlbnVtID0gbmV3UGFnZTsKICAgICAgdGhpcy5nZXRDYXRlTGlzdCgpOwogICAgfSwKICAgIC8vIOeCueWHu+aMiemSriDmmL7npLrmt7vliqDliIbnsbvlr7nor53moYYKICAgIHNob3dBZGRDYXRlRGlhbG9nKCkgewogICAgICB0aGlzLmFkZENhdGVEaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIC8vIOiOt+WPlueItue6p+WIhuexu+aVsOaNrueahOWIl+ihqAogICAgYXN5bmMgZ2V0UGFyZW50Q2F0ZUxpc3QoKSB7CiAgICAgIGNvbnN0IHtkYXRhIDogcmVzfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdjYXRlZ29yaWVzJywgewogICAgICAgIHBhcmFtczogeyB0eXBlOiAyfQogICAgICB9KQogICAgICBpZihyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bniLbnuqfliIbnsbvmlbDmja7lpLHotKXvvIEnKQogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Cate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Cate.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\n  <div>\n    <!-- 面包屑导航区域 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n      <el-breadcrumb-item>商品分类</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!-- 卡片视图区域 -->\n    <el-card>\n      <el-row>\n        <el-col>\n          <el-button type=\"primary\" @click=\"showAddCateDialog\">添加分类</el-button>\n        </el-col>\n      </el-row>\n\n      <!-- 表格 -->\n      <tree-table\n        class=\"tree-table\"\n        :data=\"cateList\"\n        :columns=\"columns\"\n        :selection-type=\"false\"\n        :expand-type=\"false\"\n        show-index\n        index-text=\"#\"\n        border\n      >\n      <!-- 是否有效 -->\n      <template slot=\"isok\" slot-scope=\"scope\">\n          <i\n            class=\"el-icon-success\"\n            v-if=\"scope.row.cat_deleted === false\"\n            style=\"color: lightgreen;\"\n          ></i>\n          <i class=\"el-icon-error\" v-else style=\"color: red;\"></i>\n      </template>\n\n      <!-- 排序 -->\n      <template slot=\"order\" slot-scope=\"scope\">\n          <el-tag size=\"mini\" v-if=\"scope.row.cat_level === 0\">一级</el-tag>\n          <el-tag size=\"mini\" v-else-if=\"scope.row.cat_level === 1\" type='success'>二级</el-tag>\n          <el-tag size=\"mini\" v-else type=\"warning\">三级</el-tag>\n      </template size=\"mini\">\n\n      <!-- 操作 -->\n      <template slot=\"opt\" slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\">编辑</el-button>\n          <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\">删除</el-button>\n      </template>\n\n      \n      </tree-table>\n\n      <!-- 分页区域 -->\n      <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"queryInfo.pagenum\"\n      :page-sizes=\"[5, 10, 15, 20]\"\n      :page-size=\"queryInfo.pagesize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\">\n      </el-pagination>\n    </el-card>\n\n    <!-- 添加分类的对话框 -->\n    <el-dialog\n      title=\"添加分类\"\n      :visible.sync=\"addCateDialogVisible\"\n      width=\"50%\"\n    >\n      <!-- 添加分类的表单 -->\n      <el-form :model=\"addCateForm\" :rules=\"addCateFormRules\" ref=\"addCateFormRef\" label-width=\"100px\">\n        <el-form-item label=\"角色名称\" prop=\"cat_name\">\n          <el-input v-model=\"addCateForm.cat_name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"父级分类：\">\n          <el-input></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Cate\",\n  data() {\n    return {\n      // 查询数据的条件\n      queryInfo: {\n        type: 3,\n        pagenum: 1,\n        pagesize: 5\n      },\n      // 商品分类的数据列表，默认为空\n      cateList: [],\n      // 总数据条数\n      total: 0,\n      // 为table指定列的定义\n      columns: [\n        {\n          label: \"分类名称\",\n          prop: \"cat_name\"\n        },\n        {\n          label: \"是否有效\",\n          // 表示将当前定义为模板列\n          type: \"template\",\n          // 表示当前这一列使用模板名称\n          template: \"isok\"\n        },\n        {\n          label: \"排序\",\n          // 表示将当前定义为模板列\n          type: \"template\",\n          // 表示当前这一列使用模板名称\n          template: \"order\"\n        },\n        {\n          label: \"操作\",\n          // 表示将当前定义为模板列\n          type: \"template\",\n          // 表示当前这一列使用模板名称\n          template: \"opt\"\n        }\n      ],\n      // 控制分类对话框的显示与隐藏\n      addCateDialogVisible: false,\n      // 添加分类表单数据对象\n      addCateForm: {\n        // 将要添加的分类名称\n        cat_name: '',\n        // 父级分类id 必填\n        cat_pid: 0,\n        // 分类等级 默认添加的是一级\n        cat_level: 0,\n      },\n      // 添加表单的验证规则对象\n      addCateFormRules: {\n        cat_name: [\n           { required: true, message: \"请输入分类名称\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  created() {\n    // 获取商品数据\n    this.getCateList();\n  },\n  methods: {\n    // 获取商品数据\n    async getCateList() {\n      const { data: res } = await this.$http.get(\"categories\", {\n        params: this.queryInfo\n      });\n      if (res.meta.status !== 200) {\n        return this.$message.error(\"获取商品分类失败！\");\n      }\n\n      console.log(res.data);\n\n      // 把数据列表赋值\n      this.cateList = res.data.result;\n\n      // 为总数据条数赋值\n      this.total = res.data.total;\n    },\n    // 监听pageSize改变的事件\n    handleSizeChange(newSize) {\n      this.queryInfo.pagesize = newSize;\n      this.getCateList();\n    },\n    // 监听pagenum的改变\n    handleCurrentChange(newPage) {\n      this.queryInfo.pagenum = newPage;\n      this.getCateList();\n    },\n    // 点击按钮 显示添加分类对话框\n    showAddCateDialog() {\n      this.addCateDialogVisible = true\n    },\n    // 获取父级分类数据的列表\n    async getParentCateList() {\n      const {data : res} = await this.$http.get('categories', {\n        params: { type: 2}\n      })\n      if(res.meta.status !== 200) {\n        return this.$message.error('获取父级分类数据失败！')\n      }\n      console.log(res.data);\n      \n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.tree-table {\n  margin-top: 15px;\n}\n</style>"]}]}